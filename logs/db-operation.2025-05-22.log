[main] INFO  DB_LOGGER - User: [anonymous], Time: [2025-05-22T19:07:39.662589], SQL: INSERT INTO verification_code(email, code, expires_at) VALUES('lcx3309296020@gmail.com', '5baa71', '2025-05-22T19:17:38.059044400')
[http-nio-0.0.0.0-8081-exec-5] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:25:15.696411900], SQL: select * from app_user where account = 'test'
[http-nio-0.0.0.0-8081-exec-5] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:25:15.734200500], SQL: select * from app_user where email = '33092930214@qq.com'
[http-nio-0.0.0.0-8081-exec-7] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:25:50.265736400], SQL: select * from app_user where account = 'test'
[http-nio-0.0.0.0-8081-exec-8] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:26:10.888243400], SQL: SELECT DISTINCT Classifications FROM art
[http-nio-0.0.0.0-8081-exec-9] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:26:10.920409100], SQL: SELECT DISTINCT Dynasty FROM art WHERE Dynasty IS NOT NULL AND Dynasty != ''
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:26:11.038735400], SQL: SELECT count(*) FROM art ORDER BY id ASC
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:26:11.047776400], SQL: SELECT id, Title, ImgUrl FROM art ORDER BY id ASC LIMIT 8 OFFSET 0
[http-nio-0.0.0.0-8081-exec-5] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:26:31.729362900], SQL: select * from art where id = 1
[http-nio-0.0.0.0-8081-exec-6] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:26:31.729362900], SQL: select id from app_user where account = 'test'
[http-nio-0.0.0.0-8081-exec-6] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:26:31.737331600], SQL: select count(*) from history_relic where uid = 1 and rid = 1
[http-nio-0.0.0.0-8081-exec-5] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:26:31.744342400], SQL: select COUNT(*) from fav_relic where uid = ( select id from app_user where account = 'test' ) and rid = 1
[http-nio-0.0.0.0-8081-exec-6] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:26:31.744342400], SQL: insert into history_relic(uid, rid) values(1, 1)
[http-nio-0.0.0.0-8081-exec-5] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:26:31.751407200], SQL: SELECT ImgUrl FROM art WHERE id = 1
[http-nio-0.0.0.0-8081-exec-5] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:26:31.758020500], SQL: SELECT a.id AS id, a.Title AS name, ( (CASE WHEN t.Artist IS NOT NULL AND a.Artist = t.Artist THEN 100 ELSE 0 END) + (CASE WHEN t.Materials IS NOT NULL AND a.Materials = t.Materials THEN 60 ELSE 0 END) + (CASE WHEN t.Classifications IS NOT NULL AND a.Classifications = t.Classifications THEN 30 ELSE 0 END) + (CASE WHEN t.Title IS NOT NULL AND a.Title LIKE CONCAT('%', t.Title, '%') THEN 50 ELSE 0 END) ) AS score FROM art a JOIN ( SELECT Artist, Classifications, Title, Materials FROM art WHERE id = 1 ) t WHERE a.id != 1 ORDER BY score DESC LIMIT 20;
[http-nio-0.0.0.0-8081-exec-7] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:26:33.435443500], SQL: SELECT DISTINCT Classifications FROM art
[http-nio-0.0.0.0-8081-exec-8] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:26:33.468150700], SQL: SELECT DISTINCT Dynasty FROM art WHERE Dynasty IS NOT NULL AND Dynasty != ''
[http-nio-0.0.0.0-8081-exec-10] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:26:33.512489600], SQL: SELECT count(*) FROM art ORDER BY id ASC
[http-nio-0.0.0.0-8081-exec-10] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:26:33.520687200], SQL: SELECT id, Title, ImgUrl FROM art ORDER BY id ASC LIMIT 8 OFFSET 0
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:26:34.782439500], SQL: select id from app_user where account = 'test'
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:26:34.782439500], SQL: select * from art where id = 1
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:26:34.790407], SQL: select count(*) from history_relic where uid = 1 and rid = 1
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:26:34.791420800], SQL: select COUNT(*) from fav_relic where uid = ( select id from app_user where account = 'test' ) and rid = 1
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:26:34.802499100], SQL: UPDATE history_relic SET addtime = NOW() WHERE uid = 1 AND rid = 1
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:26:34.802499100], SQL: SELECT ImgUrl FROM art WHERE id = 1
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:26:34.812564300], SQL: SELECT a.id AS id, a.Title AS name, ( (CASE WHEN t.Artist IS NOT NULL AND a.Artist = t.Artist THEN 100 ELSE 0 END) + (CASE WHEN t.Materials IS NOT NULL AND a.Materials = t.Materials THEN 60 ELSE 0 END) + (CASE WHEN t.Classifications IS NOT NULL AND a.Classifications = t.Classifications THEN 30 ELSE 0 END) + (CASE WHEN t.Title IS NOT NULL AND a.Title LIKE CONCAT('%', t.Title, '%') THEN 50 ELSE 0 END) ) AS score FROM art a JOIN ( SELECT Artist, Classifications, Title, Materials FROM art WHERE id = 1 ) t WHERE a.id != 1 ORDER BY score DESC LIMIT 20;
[http-nio-0.0.0.0-8081-exec-3] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:26:36.295099400], SQL: SELECT DISTINCT Classifications FROM art
[http-nio-0.0.0.0-8081-exec-4] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:26:36.336250700], SQL: SELECT DISTINCT Dynasty FROM art WHERE Dynasty IS NOT NULL AND Dynasty != ''
[http-nio-0.0.0.0-8081-exec-5] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:26:36.386288300], SQL: SELECT count(*) FROM art ORDER BY id ASC
[http-nio-0.0.0.0-8081-exec-5] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:26:36.396356200], SQL: SELECT id, Title, ImgUrl FROM art ORDER BY id ASC LIMIT 8 OFFSET 0
[http-nio-0.0.0.0-8081-exec-7] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:27:11.368855100], SQL: SELECT count(*) FROM art ORDER BY id ASC
[http-nio-0.0.0.0-8081-exec-7] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:27:11.376527], SQL: SELECT id, Title, ImgUrl FROM art ORDER BY id ASC LIMIT 8 OFFSET 8
[http-nio-0.0.0.0-8081-exec-8] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:27:11.982025700], SQL: SELECT count(*) FROM art ORDER BY id ASC
[http-nio-0.0.0.0-8081-exec-8] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:27:11.989546600], SQL: SELECT id, Title, ImgUrl FROM art ORDER BY id ASC LIMIT 8 OFFSET 16
[http-nio-0.0.0.0-8081-exec-9] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:27:13.212787700], SQL: SELECT count(*) FROM art ORDER BY id ASC
[http-nio-0.0.0.0-8081-exec-9] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:27:13.231356300], SQL: SELECT id, Title, ImgUrl FROM art ORDER BY id ASC LIMIT 8 OFFSET 24
[http-nio-0.0.0.0-8081-exec-10] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:27:14.231051300], SQL: SELECT count(*) FROM art ORDER BY id ASC
[http-nio-0.0.0.0-8081-exec-10] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:27:14.240077700], SQL: SELECT id, Title, ImgUrl FROM art ORDER BY id ASC LIMIT 8 OFFSET 32
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:27:14.898334900], SQL: SELECT count(*) FROM art ORDER BY id ASC
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:27:14.910868400], SQL: SELECT id, Title, ImgUrl FROM art ORDER BY id ASC LIMIT 8 OFFSET 40
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:27:15.777453600], SQL: SELECT count(*) FROM art ORDER BY id ASC
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:27:15.786525300], SQL: SELECT id, Title, ImgUrl FROM art ORDER BY id ASC LIMIT 8 OFFSET 48
[http-nio-0.0.0.0-8081-exec-3] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:27:16.745618100], SQL: SELECT count(*) FROM art ORDER BY id ASC
[http-nio-0.0.0.0-8081-exec-3] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:27:16.755100], SQL: SELECT id, Title, ImgUrl FROM art ORDER BY id ASC LIMIT 8 OFFSET 56
[http-nio-0.0.0.0-8081-exec-4] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:27:28.553730600], SQL: select * from art where id = 58
[http-nio-0.0.0.0-8081-exec-6] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:27:28.565738400], SQL: select id from app_user where account = 'test'
[http-nio-0.0.0.0-8081-exec-4] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:27:28.566736800], SQL: select COUNT(*) from fav_relic where uid = ( select id from app_user where account = 'test' ) and rid = 58
[http-nio-0.0.0.0-8081-exec-6] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:27:28.573663], SQL: select count(*) from history_relic where uid = 1 and rid = 58
[http-nio-0.0.0.0-8081-exec-4] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:27:28.576732200], SQL: SELECT ImgUrl FROM art WHERE id = 58
[http-nio-0.0.0.0-8081-exec-6] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:27:28.582252400], SQL: insert into history_relic(uid, rid) values(1, 58)
[http-nio-0.0.0.0-8081-exec-4] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:27:28.586534300], SQL: SELECT a.id AS id, a.Title AS name, ( (CASE WHEN t.Artist IS NOT NULL AND a.Artist = t.Artist THEN 100 ELSE 0 END) + (CASE WHEN t.Materials IS NOT NULL AND a.Materials = t.Materials THEN 60 ELSE 0 END) + (CASE WHEN t.Classifications IS NOT NULL AND a.Classifications = t.Classifications THEN 30 ELSE 0 END) + (CASE WHEN t.Title IS NOT NULL AND a.Title LIKE CONCAT('%', t.Title, '%') THEN 50 ELSE 0 END) ) AS score FROM art a JOIN ( SELECT Artist, Classifications, Title, Materials FROM art WHERE id = 58 ) t WHERE a.id != 58 ORDER BY score DESC LIMIT 20;
[http-nio-0.0.0.0-8081-exec-7] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:27:56.488246], SQL: select id from app_user where account = 'test'
[http-nio-0.0.0.0-8081-exec-7] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:27:56.494244100], SQL: select COUNT(*) from fav_relic where uid = ( select id from app_user where account = 'test' ) and rid = 58
[http-nio-0.0.0.0-8081-exec-7] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:27:56.501362600], SQL: insert into fav_relic values(1, 58, '2025-05-22T19:27:56.500362600')
[http-nio-0.0.0.0-8081-exec-8] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:27:57.597363800], SQL: select id from app_user where account = 'test'
[http-nio-0.0.0.0-8081-exec-8] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:27:57.604629800], SQL: select COUNT(*) from fav_relic where uid = ( select id from app_user where account = 'test' ) and rid = 58
[http-nio-0.0.0.0-8081-exec-8] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:27:57.611717900], SQL: delete from fav_relic where uid = 1 and rid = 58
[http-nio-0.0.0.0-8081-exec-9] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:27:58.548344700], SQL: select id from app_user where account = 'test'
[http-nio-0.0.0.0-8081-exec-9] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:27:58.555493500], SQL: select COUNT(*) from fav_relic where uid = ( select id from app_user where account = 'test' ) and rid = 58
[http-nio-0.0.0.0-8081-exec-9] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:27:58.561499300], SQL: insert into fav_relic values(1, 58, '2025-05-22T19:27:58.561499300')
[http-nio-0.0.0.0-8081-exec-10] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:27:59.517091400], SQL: select id from app_user where account = 'test'
[http-nio-0.0.0.0-8081-exec-10] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:27:59.524457], SQL: select COUNT(*) from fav_relic where uid = ( select id from app_user where account = 'test' ) and rid = 58
[http-nio-0.0.0.0-8081-exec-10] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:27:59.529829900], SQL: delete from fav_relic where uid = 1 and rid = 58
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:12.156667800], SQL: select * from art where id = 272
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:12.161337], SQL: select id from app_user where account = 'test'
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:12.164950500], SQL: select COUNT(*) from fav_relic where uid = ( select id from app_user where account = 'test' ) and rid = 272
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:12.168415600], SQL: select count(*) from history_relic where uid = 1 and rid = 272
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:12.171646], SQL: SELECT ImgUrl FROM art WHERE id = 272
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:12.175358], SQL: insert into history_relic(uid, rid) values(1, 272)
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:12.178196], SQL: SELECT a.id AS id, a.Title AS name, ( (CASE WHEN t.Artist IS NOT NULL AND a.Artist = t.Artist THEN 100 ELSE 0 END) + (CASE WHEN t.Materials IS NOT NULL AND a.Materials = t.Materials THEN 60 ELSE 0 END) + (CASE WHEN t.Classifications IS NOT NULL AND a.Classifications = t.Classifications THEN 30 ELSE 0 END) + (CASE WHEN t.Title IS NOT NULL AND a.Title LIKE CONCAT('%', t.Title, '%') THEN 50 ELSE 0 END) ) AS score FROM art a JOIN ( SELECT Artist, Classifications, Title, Materials FROM art WHERE id = 272 ) t WHERE a.id != 272 ORDER BY score DESC LIMIT 20;
[http-nio-0.0.0.0-8081-exec-3] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:16.446371500], SQL: select * from art where id = 273
[http-nio-0.0.0.0-8081-exec-6] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:16.451866800], SQL: select id from app_user where account = 'test'
[http-nio-0.0.0.0-8081-exec-3] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:16.454536200], SQL: select COUNT(*) from fav_relic where uid = ( select id from app_user where account = 'test' ) and rid = 273
[http-nio-0.0.0.0-8081-exec-6] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:16.458007500], SQL: select count(*) from history_relic where uid = 1 and rid = 273
[http-nio-0.0.0.0-8081-exec-3] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:16.462007500], SQL: SELECT ImgUrl FROM art WHERE id = 273
[http-nio-0.0.0.0-8081-exec-6] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:16.465555700], SQL: insert into history_relic(uid, rid) values(1, 273)
[http-nio-0.0.0.0-8081-exec-3] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:16.468671200], SQL: SELECT a.id AS id, a.Title AS name, ( (CASE WHEN t.Artist IS NOT NULL AND a.Artist = t.Artist THEN 100 ELSE 0 END) + (CASE WHEN t.Materials IS NOT NULL AND a.Materials = t.Materials THEN 60 ELSE 0 END) + (CASE WHEN t.Classifications IS NOT NULL AND a.Classifications = t.Classifications THEN 30 ELSE 0 END) + (CASE WHEN t.Title IS NOT NULL AND a.Title LIKE CONCAT('%', t.Title, '%') THEN 50 ELSE 0 END) ) AS score FROM art a JOIN ( SELECT Artist, Classifications, Title, Materials FROM art WHERE id = 273 ) t WHERE a.id != 273 ORDER BY score DESC LIMIT 20;
[http-nio-0.0.0.0-8081-exec-4] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:20.258289300], SQL: select * from art where id = 272
[http-nio-0.0.0.0-8081-exec-5] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:20.258289300], SQL: select id from app_user where account = 'test'
[http-nio-0.0.0.0-8081-exec-5] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:20.264595600], SQL: select count(*) from history_relic where uid = 1 and rid = 272
[http-nio-0.0.0.0-8081-exec-4] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:20.266717600], SQL: select COUNT(*) from fav_relic where uid = ( select id from app_user where account = 'test' ) and rid = 272
[http-nio-0.0.0.0-8081-exec-5] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:20.272795200], SQL: UPDATE history_relic SET addtime = NOW() WHERE uid = 1 AND rid = 272
[http-nio-0.0.0.0-8081-exec-4] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:20.272795200], SQL: SELECT ImgUrl FROM art WHERE id = 272
[http-nio-0.0.0.0-8081-exec-4] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:20.280525400], SQL: SELECT a.id AS id, a.Title AS name, ( (CASE WHEN t.Artist IS NOT NULL AND a.Artist = t.Artist THEN 100 ELSE 0 END) + (CASE WHEN t.Materials IS NOT NULL AND a.Materials = t.Materials THEN 60 ELSE 0 END) + (CASE WHEN t.Classifications IS NOT NULL AND a.Classifications = t.Classifications THEN 30 ELSE 0 END) + (CASE WHEN t.Title IS NOT NULL AND a.Title LIKE CONCAT('%', t.Title, '%') THEN 50 ELSE 0 END) ) AS score FROM art a JOIN ( SELECT Artist, Classifications, Title, Materials FROM art WHERE id = 272 ) t WHERE a.id != 272 ORDER BY score DESC LIMIT 20;
[http-nio-0.0.0.0-8081-exec-8] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:30.043839900], SQL: select Title from art where id = 272
[http-nio-0.0.0.0-8081-exec-8] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:30.052741400], SQL: SELECT c.id AS id, a.account AS author, a.avatar AS avatar, c.content AS content, c.addtime AS datetime FROM comment_relic c JOIN app_user a ON a.id = c.uid WHERE c.rid = 272 ORDER BY c.addtime
[http-nio-0.0.0.0-8081-exec-9] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:32.199938500], SQL: select * from art where id = 272
[http-nio-0.0.0.0-8081-exec-10] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:32.199938500], SQL: select id from app_user where account = 'test'
[http-nio-0.0.0.0-8081-exec-10] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:32.207510400], SQL: select count(*) from history_relic where uid = 1 and rid = 272
[http-nio-0.0.0.0-8081-exec-9] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:32.209059], SQL: select COUNT(*) from fav_relic where uid = ( select id from app_user where account = 'test' ) and rid = 272
[http-nio-0.0.0.0-8081-exec-10] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:32.214782], SQL: UPDATE history_relic SET addtime = NOW() WHERE uid = 1 AND rid = 272
[http-nio-0.0.0.0-8081-exec-9] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:32.215791100], SQL: SELECT ImgUrl FROM art WHERE id = 272
[http-nio-0.0.0.0-8081-exec-9] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:32.224384200], SQL: SELECT a.id AS id, a.Title AS name, ( (CASE WHEN t.Artist IS NOT NULL AND a.Artist = t.Artist THEN 100 ELSE 0 END) + (CASE WHEN t.Materials IS NOT NULL AND a.Materials = t.Materials THEN 60 ELSE 0 END) + (CASE WHEN t.Classifications IS NOT NULL AND a.Classifications = t.Classifications THEN 30 ELSE 0 END) + (CASE WHEN t.Title IS NOT NULL AND a.Title LIKE CONCAT('%', t.Title, '%') THEN 50 ELSE 0 END) ) AS score FROM art a JOIN ( SELECT Artist, Classifications, Title, Materials FROM art WHERE id = 272 ) t WHERE a.id != 272 ORDER BY score DESC LIMIT 20;
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:34.286438800], SQL: select * from art where id = 58
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:34.298164], SQL: select id from app_user where account = 'test'
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:34.300793400], SQL: select COUNT(*) from fav_relic where uid = ( select id from app_user where account = 'test' ) and rid = 58
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:34.305492100], SQL: select count(*) from history_relic where uid = 1 and rid = 58
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:34.315011300], SQL: SELECT ImgUrl FROM art WHERE id = 58
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:34.315011300], SQL: UPDATE history_relic SET addtime = NOW() WHERE uid = 1 AND rid = 58
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:34.322892], SQL: SELECT a.id AS id, a.Title AS name, ( (CASE WHEN t.Artist IS NOT NULL AND a.Artist = t.Artist THEN 100 ELSE 0 END) + (CASE WHEN t.Materials IS NOT NULL AND a.Materials = t.Materials THEN 60 ELSE 0 END) + (CASE WHEN t.Classifications IS NOT NULL AND a.Classifications = t.Classifications THEN 30 ELSE 0 END) + (CASE WHEN t.Title IS NOT NULL AND a.Title LIKE CONCAT('%', t.Title, '%') THEN 50 ELSE 0 END) ) AS score FROM art a JOIN ( SELECT Artist, Classifications, Title, Materials FROM art WHERE id = 58 ) t WHERE a.id != 58 ORDER BY score DESC LIMIT 20;
[http-nio-0.0.0.0-8081-exec-3] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:35.947995], SQL: select Title from art where id = 58
[http-nio-0.0.0.0-8081-exec-3] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:35.956451900], SQL: SELECT c.id AS id, a.account AS author, a.avatar AS avatar, c.content AS content, c.addtime AS datetime FROM comment_relic c JOIN app_user a ON a.id = c.uid WHERE c.rid = 58 ORDER BY c.addtime
[http-nio-0.0.0.0-8081-exec-6] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:37.339751800], SQL: select * from art where id = 58
[http-nio-0.0.0.0-8081-exec-4] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:37.339751800], SQL: select id from app_user where account = 'test'
[http-nio-0.0.0.0-8081-exec-4] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:37.348932600], SQL: select count(*) from history_relic where uid = 1 and rid = 58
[http-nio-0.0.0.0-8081-exec-6] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:37.350492700], SQL: select COUNT(*) from fav_relic where uid = ( select id from app_user where account = 'test' ) and rid = 58
[http-nio-0.0.0.0-8081-exec-4] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:37.357171700], SQL: UPDATE history_relic SET addtime = NOW() WHERE uid = 1 AND rid = 58
[http-nio-0.0.0.0-8081-exec-6] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:37.357171700], SQL: SELECT ImgUrl FROM art WHERE id = 58
[http-nio-0.0.0.0-8081-exec-6] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:37.368210900], SQL: SELECT a.id AS id, a.Title AS name, ( (CASE WHEN t.Artist IS NOT NULL AND a.Artist = t.Artist THEN 100 ELSE 0 END) + (CASE WHEN t.Materials IS NOT NULL AND a.Materials = t.Materials THEN 60 ELSE 0 END) + (CASE WHEN t.Classifications IS NOT NULL AND a.Classifications = t.Classifications THEN 30 ELSE 0 END) + (CASE WHEN t.Title IS NOT NULL AND a.Title LIKE CONCAT('%', t.Title, '%') THEN 50 ELSE 0 END) ) AS score FROM art a JOIN ( SELECT Artist, Classifications, Title, Materials FROM art WHERE id = 58 ) t WHERE a.id != 58 ORDER BY score DESC LIMIT 20;
[http-nio-0.0.0.0-8081-exec-5] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:28:40.406211700], SQL: SELECT DISTINCT Classifications FROM art
[http-nio-0.0.0.0-8081-exec-7] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:28:40.443849], SQL: SELECT DISTINCT Dynasty FROM art WHERE Dynasty IS NOT NULL AND Dynasty != ''
[http-nio-0.0.0.0-8081-exec-10] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:28:40.482666100], SQL: SELECT count(*) FROM art ORDER BY id ASC
[http-nio-0.0.0.0-8081-exec-10] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:28:40.490286], SQL: SELECT id, Title, ImgUrl FROM art ORDER BY id ASC LIMIT 8 OFFSET 0
[http-nio-0.0.0.0-8081-exec-9] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:41.236840500], SQL: select * from art where id = 1
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:41.240245], SQL: select id from app_user where account = 'test'
[http-nio-0.0.0.0-8081-exec-9] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:41.244668600], SQL: select COUNT(*) from fav_relic where uid = ( select id from app_user where account = 'test' ) and rid = 1
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:41.245675400], SQL: select count(*) from history_relic where uid = 1 and rid = 1
[http-nio-0.0.0.0-8081-exec-9] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:41.251189500], SQL: SELECT ImgUrl FROM art WHERE id = 1
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:41.252190500], SQL: UPDATE history_relic SET addtime = NOW() WHERE uid = 1 AND rid = 1
[http-nio-0.0.0.0-8081-exec-9] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:41.257871600], SQL: SELECT a.id AS id, a.Title AS name, ( (CASE WHEN t.Artist IS NOT NULL AND a.Artist = t.Artist THEN 100 ELSE 0 END) + (CASE WHEN t.Materials IS NOT NULL AND a.Materials = t.Materials THEN 60 ELSE 0 END) + (CASE WHEN t.Classifications IS NOT NULL AND a.Classifications = t.Classifications THEN 30 ELSE 0 END) + (CASE WHEN t.Title IS NOT NULL AND a.Title LIKE CONCAT('%', t.Title, '%') THEN 50 ELSE 0 END) ) AS score FROM art a JOIN ( SELECT Artist, Classifications, Title, Materials FROM art WHERE id = 1 ) t WHERE a.id != 1 ORDER BY score DESC LIMIT 20;
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:42.346948700], SQL: select Title from art where id = 1
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:28:42.359911700], SQL: SELECT c.id AS id, a.account AS author, a.avatar AS avatar, c.content AS content, c.addtime AS datetime FROM comment_relic c JOIN app_user a ON a.id = c.uid WHERE c.rid = 1 ORDER BY c.addtime
[http-nio-0.0.0.0-8081-exec-6] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:29:00.701108300], SQL: select id from app_user where account = 'test'
[http-nio-0.0.0.0-8081-exec-3] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:29:00.701108300], SQL: select * from art where id = 1
[http-nio-0.0.0.0-8081-exec-6] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:29:00.707475400], SQL: select count(*) from history_relic where uid = 1 and rid = 1
[http-nio-0.0.0.0-8081-exec-3] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:29:00.709017200], SQL: select COUNT(*) from fav_relic where uid = ( select id from app_user where account = 'test' ) and rid = 1
[http-nio-0.0.0.0-8081-exec-6] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:29:00.718215400], SQL: UPDATE history_relic SET addtime = NOW() WHERE uid = 1 AND rid = 1
[http-nio-0.0.0.0-8081-exec-3] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:29:00.718215400], SQL: SELECT ImgUrl FROM art WHERE id = 1
[http-nio-0.0.0.0-8081-exec-3] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:29:00.727777700], SQL: SELECT a.id AS id, a.Title AS name, ( (CASE WHEN t.Artist IS NOT NULL AND a.Artist = t.Artist THEN 100 ELSE 0 END) + (CASE WHEN t.Materials IS NOT NULL AND a.Materials = t.Materials THEN 60 ELSE 0 END) + (CASE WHEN t.Classifications IS NOT NULL AND a.Classifications = t.Classifications THEN 30 ELSE 0 END) + (CASE WHEN t.Title IS NOT NULL AND a.Title LIKE CONCAT('%', t.Title, '%') THEN 50 ELSE 0 END) ) AS score FROM art a JOIN ( SELECT Artist, Classifications, Title, Materials FROM art WHERE id = 1 ) t WHERE a.id != 1 ORDER BY score DESC LIMIT 20;
[http-nio-0.0.0.0-8081-exec-4] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:29:03.831478300], SQL: SELECT DISTINCT Classifications FROM art
[http-nio-0.0.0.0-8081-exec-5] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:29:03.881733600], SQL: SELECT DISTINCT Dynasty FROM art WHERE Dynasty IS NOT NULL AND Dynasty != ''
[http-nio-0.0.0.0-8081-exec-8] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:29:03.924414800], SQL: SELECT count(*) FROM art ORDER BY id ASC
[http-nio-0.0.0.0-8081-exec-8] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:29:03.933655400], SQL: SELECT id, Title, ImgUrl FROM art ORDER BY id ASC LIMIT 8 OFFSET 0
[http-nio-0.0.0.0-8081-exec-9] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:29:04.974921300], SQL: select id from app_user where account = 'test'
[http-nio-0.0.0.0-8081-exec-10] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:29:04.974921300], SQL: select * from art where id = 7
[http-nio-0.0.0.0-8081-exec-9] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:29:04.980618700], SQL: select count(*) from history_relic where uid = 1 and rid = 7
[http-nio-0.0.0.0-8081-exec-10] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:29:04.983177700], SQL: select COUNT(*) from fav_relic where uid = ( select id from app_user where account = 'test' ) and rid = 7
[http-nio-0.0.0.0-8081-exec-9] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:29:04.986685400], SQL: insert into history_relic(uid, rid) values(1, 7)
[http-nio-0.0.0.0-8081-exec-10] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:29:04.989969500], SQL: SELECT ImgUrl FROM art WHERE id = 7
[http-nio-0.0.0.0-8081-exec-10] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:29:04.995284500], SQL: SELECT a.id AS id, a.Title AS name, ( (CASE WHEN t.Artist IS NOT NULL AND a.Artist = t.Artist THEN 100 ELSE 0 END) + (CASE WHEN t.Materials IS NOT NULL AND a.Materials = t.Materials THEN 60 ELSE 0 END) + (CASE WHEN t.Classifications IS NOT NULL AND a.Classifications = t.Classifications THEN 30 ELSE 0 END) + (CASE WHEN t.Title IS NOT NULL AND a.Title LIKE CONCAT('%', t.Title, '%') THEN 50 ELSE 0 END) ) AS score FROM art a JOIN ( SELECT Artist, Classifications, Title, Materials FROM art WHERE id = 7 ) t WHERE a.id != 7 ORDER BY score DESC LIMIT 20;
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:29:06.355572200], SQL: select Title from art where id = 7
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:29:06.361378800], SQL: SELECT c.id AS id, a.account AS author, a.avatar AS avatar, c.content AS content, c.addtime AS datetime FROM comment_relic c JOIN app_user a ON a.id = c.uid WHERE c.rid = 7 ORDER BY c.addtime
[http-nio-0.0.0.0-8081-exec-3] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:29:19.957953400], SQL: INSERT INTO comment_relic(uid, rid, content, addtime) SELECT u.id, 7, '123421351263', '2025-05-22T11:29:19' FROM app_user u WHERE u.account = 'test'
[http-nio-0.0.0.0-8081-exec-5] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:30:59.803403300], SQL: SELECT a.id, a.ImgUrl, a.Title, a.Dynasty, SUBSTRING( a.Dynasty, LOCATE('（', a.Dynasty) + 1, LOCATE('）', a.Dynasty) - LOCATE('（', a.Dynasty) - 1 ) AS date_range FROM art a INNER JOIN ( SELECT MIN(id) AS id FROM art WHERE Dynasty IS NOT NULL AND Dynasty != '' GROUP BY Dynasty ) AS t ON a.id = t.id WHERE a.Dynasty IS NOT NULL AND a.Dynasty != '' ORDER BY CASE WHEN a.Dynasty LIKE '%公元前%' THEN -CAST(SUBSTRING_INDEX(SUBSTRING_INDEX( SUBSTRING( a.Dynasty, LOCATE('（', a.Dynasty) + 1, LOCATE('）', a.Dynasty) - LOCATE('（', a.Dynasty) - 1 ), '-', 1), '前', -1 ) AS UNSIGNED) ELSE CAST(SUBSTRING_INDEX( SUBSTRING( a.Dynasty, LOCATE('（', a.Dynasty) + 1, LOCATE('）', a.Dynasty) - LOCATE('（', a.Dynasty) - 1 ), '-', 1) AS UNSIGNED) END;
[http-nio-0.0.0.0-8081-exec-8] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:31:41.234470400], SQL: SELECT a.id, a.ImgUrl AS src, a.Title FROM art a WHERE a.Dynasty IS NOT NULL AND a.Dynasty != '' AND ( CASE WHEN a.Dynasty LIKE '%公元前%' THEN -CAST(SUBSTRING_INDEX(SUBSTRING_INDEX( SUBSTRING(a.Dynasty, LOCATE('（', a.Dynasty) + 1, LOCATE('）', a.Dynasty) - LOCATE('（', a.Dynasty) - 1), '-', 1), '前', -1) AS SIGNED) ELSE CAST(SUBSTRING_INDEX( SUBSTRING(a.Dynasty, LOCATE('（', a.Dynasty) + 1, LOCATE('）', a.Dynasty) - LOCATE('（', a.Dynasty) - 1), '-', 1) AS SIGNED) END ) >= 960 AND ( CASE WHEN a.Dynasty LIKE '%公元前%' THEN -CAST(SUBSTRING_INDEX(SUBSTRING_INDEX( SUBSTRING(a.Dynasty, LOCATE('（', a.Dynasty) + 1, LOCATE('）', a.Dynasty) - LOCATE('（', a.Dynasty) - 1), '-', -1), '前', -1) AS SIGNED) ELSE CAST(SUBSTRING_INDEX( SUBSTRING(a.Dynasty, LOCATE('（', a.Dynasty) + 1, LOCATE('）', a.Dynasty) - LOCATE('（', a.Dynasty) - 1), '-', -1) AS SIGNED) END ) <= 1279
[http-nio-0.0.0.0-8081-exec-9] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:31:43.095458300], SQL: SELECT a.id, a.ImgUrl, a.Title, a.Dynasty, SUBSTRING( a.Dynasty, LOCATE('（', a.Dynasty) + 1, LOCATE('）', a.Dynasty) - LOCATE('（', a.Dynasty) - 1 ) AS date_range FROM art a INNER JOIN ( SELECT MIN(id) AS id FROM art WHERE Dynasty IS NOT NULL AND Dynasty != '' GROUP BY Dynasty ) AS t ON a.id = t.id WHERE a.Dynasty IS NOT NULL AND a.Dynasty != '' ORDER BY CASE WHEN a.Dynasty LIKE '%公元前%' THEN -CAST(SUBSTRING_INDEX(SUBSTRING_INDEX( SUBSTRING( a.Dynasty, LOCATE('（', a.Dynasty) + 1, LOCATE('）', a.Dynasty) - LOCATE('（', a.Dynasty) - 1 ), '-', 1), '前', -1 ) AS UNSIGNED) ELSE CAST(SUBSTRING_INDEX( SUBSTRING( a.Dynasty, LOCATE('（', a.Dynasty) + 1, LOCATE('）', a.Dynasty) - LOCATE('（', a.Dynasty) - 1 ), '-', 1) AS UNSIGNED) END;
[http-nio-0.0.0.0-8081-exec-10] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:31:47.797436900], SQL: SELECT a.id, a.ImgUrl AS src, a.Title FROM art a WHERE a.Dynasty IS NOT NULL AND a.Dynasty != '' AND ( CASE WHEN a.Dynasty LIKE '%公元前%' THEN -CAST(SUBSTRING_INDEX(SUBSTRING_INDEX( SUBSTRING(a.Dynasty, LOCATE('（', a.Dynasty) + 1, LOCATE('）', a.Dynasty) - LOCATE('（', a.Dynasty) - 1), '-', 1), '前', -1) AS SIGNED) ELSE CAST(SUBSTRING_INDEX( SUBSTRING(a.Dynasty, LOCATE('（', a.Dynasty) + 1, LOCATE('）', a.Dynasty) - LOCATE('（', a.Dynasty) - 1), '-', 1) AS SIGNED) END ) >= 1368 AND ( CASE WHEN a.Dynasty LIKE '%公元前%' THEN -CAST(SUBSTRING_INDEX(SUBSTRING_INDEX( SUBSTRING(a.Dynasty, LOCATE('（', a.Dynasty) + 1, LOCATE('）', a.Dynasty) - LOCATE('（', a.Dynasty) - 1), '-', -1), '前', -1) AS SIGNED) ELSE CAST(SUBSTRING_INDEX( SUBSTRING(a.Dynasty, LOCATE('（', a.Dynasty) + 1, LOCATE('）', a.Dynasty) - LOCATE('（', a.Dynasty) - 1), '-', -1) AS SIGNED) END ) <= 1644
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:32:00.327905200], SQL: select * from art where id = 46
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:32:00.327905200], SQL: select id from app_user where account = 'test'
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:32:00.335434100], SQL: select count(*) from history_relic where uid = 1 and rid = 46
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:32:00.336941400], SQL: select COUNT(*) from fav_relic where uid = ( select id from app_user where account = 'test' ) and rid = 46
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:32:00.341647500], SQL: insert into history_relic(uid, rid) values(1, 46)
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:32:00.343020100], SQL: SELECT ImgUrl FROM art WHERE id = 46
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:32:00.349083500], SQL: SELECT a.id AS id, a.Title AS name, ( (CASE WHEN t.Artist IS NOT NULL AND a.Artist = t.Artist THEN 100 ELSE 0 END) + (CASE WHEN t.Materials IS NOT NULL AND a.Materials = t.Materials THEN 60 ELSE 0 END) + (CASE WHEN t.Classifications IS NOT NULL AND a.Classifications = t.Classifications THEN 30 ELSE 0 END) + (CASE WHEN t.Title IS NOT NULL AND a.Title LIKE CONCAT('%', t.Title, '%') THEN 50 ELSE 0 END) ) AS score FROM art a JOIN ( SELECT Artist, Classifications, Title, Materials FROM art WHERE id = 46 ) t WHERE a.id != 46 ORDER BY score DESC LIMIT 20;
[http-nio-0.0.0.0-8081-exec-3] INFO  DB_LOGGER - User: [anonymousUser], Time: [2025-05-22T19:32:08.871999900], SQL: SELECT a.id, a.ImgUrl AS src, a.Title FROM art a WHERE a.Dynasty IS NOT NULL AND a.Dynasty != '' AND ( CASE WHEN a.Dynasty LIKE '%公元前%' THEN -CAST(SUBSTRING_INDEX(SUBSTRING_INDEX( SUBSTRING(a.Dynasty, LOCATE('（', a.Dynasty) + 1, LOCATE('）', a.Dynasty) - LOCATE('（', a.Dynasty) - 1), '-', 1), '前', -1) AS SIGNED) ELSE CAST(SUBSTRING_INDEX( SUBSTRING(a.Dynasty, LOCATE('（', a.Dynasty) + 1, LOCATE('）', a.Dynasty) - LOCATE('（', a.Dynasty) - 1), '-', 1) AS SIGNED) END ) >= 1368 AND ( CASE WHEN a.Dynasty LIKE '%公元前%' THEN -CAST(SUBSTRING_INDEX(SUBSTRING_INDEX( SUBSTRING(a.Dynasty, LOCATE('（', a.Dynasty) + 1, LOCATE('）', a.Dynasty) - LOCATE('（', a.Dynasty) - 1), '-', -1), '前', -1) AS SIGNED) ELSE CAST(SUBSTRING_INDEX( SUBSTRING(a.Dynasty, LOCATE('（', a.Dynasty) + 1, LOCATE('）', a.Dynasty) - LOCATE('（', a.Dynasty) - 1), '-', -1) AS SIGNED) END ) <= 1644
[http-nio-0.0.0.0-8081-exec-7] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:38:30.020440700], SQL: SELECT a.id AS id, a.Title AS name, fr.addtime AS time FROM fav_relic fr JOIN app_user ap ON fr.uid = ap.id JOIN art a ON fr.rid = a.id WHERE ap.account = 'test' ORDER BY fr.addtime DESC
[http-nio-0.0.0.0-8081-exec-9] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:38:34.961407900], SQL: select id from app_user where account = 'test'
[http-nio-0.0.0.0-8081-exec-8] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:38:34.962408800], SQL: select * from art where id = 127
[http-nio-0.0.0.0-8081-exec-9] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:38:34.969498100], SQL: select count(*) from history_relic where uid = 1 and rid = 127
[http-nio-0.0.0.0-8081-exec-8] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:38:34.972955500], SQL: select COUNT(*) from fav_relic where uid = ( select id from app_user where account = 'test' ) and rid = 127
[http-nio-0.0.0.0-8081-exec-9] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:38:34.977298300], SQL: UPDATE history_relic SET addtime = NOW() WHERE uid = 1 AND rid = 127
[http-nio-0.0.0.0-8081-exec-8] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:38:34.979677800], SQL: SELECT ImgUrl FROM art WHERE id = 127
[http-nio-0.0.0.0-8081-exec-8] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:38:34.988779400], SQL: SELECT a.id AS id, a.Title AS name, ( (CASE WHEN t.Artist IS NOT NULL AND a.Artist = t.Artist THEN 100 ELSE 0 END) + (CASE WHEN t.Materials IS NOT NULL AND a.Materials = t.Materials THEN 60 ELSE 0 END) + (CASE WHEN t.Classifications IS NOT NULL AND a.Classifications = t.Classifications THEN 30 ELSE 0 END) + (CASE WHEN t.Title IS NOT NULL AND a.Title LIKE CONCAT('%', t.Title, '%') THEN 50 ELSE 0 END) ) AS score FROM art a JOIN ( SELECT Artist, Classifications, Title, Materials FROM art WHERE id = 127 ) t WHERE a.id != 127 ORDER BY score DESC LIMIT 20;
[http-nio-0.0.0.0-8081-exec-10] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:38:42.278762400], SQL: SELECT a.id AS id, a.Title AS name, fr.addtime AS time FROM fav_relic fr JOIN app_user ap ON fr.uid = ap.id JOIN art a ON fr.rid = a.id WHERE ap.account = 'test' ORDER BY fr.addtime DESC
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:38:44.107875100], SQL: select id from app_user where account = 'test'
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:38:44.114831400], SQL: select COUNT(*) from fav_relic where uid = ( select id from app_user where account = 'test' ) and rid = 127
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:38:44.121794100], SQL: delete from fav_relic where uid = 1 and rid = 127
[http-nio-0.0.0.0-8081-exec-3] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:38:55.515955], SQL: SELECT a.id AS id, a.Title AS name, fr.addtime AS time FROM fav_relic fr JOIN app_user ap ON fr.uid = ap.id JOIN art a ON fr.rid = a.id WHERE ap.account = 'test' AND a.Title LIKE CONCAT('%', '白', '%') ORDER BY fr.addtime DESC
[http-nio-0.0.0.0-8081-exec-4] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:38:58.828083300], SQL: select cr.id as id, cr.rid as rid, a.Title as name, cr.content as content, cr.addtime as time from comment_relic cr JOIN app_user ap on ap.id = cr.uid JOIN art a on a.id = cr.rid WHERE ap.account = 'test' order by cr.addtime desc
[http-nio-0.0.0.0-8081-exec-5] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:39:13.684188100], SQL: select Title from art where id = 66
[http-nio-0.0.0.0-8081-exec-5] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:39:13.692848800], SQL: SELECT c.id AS id, a.account AS author, a.avatar AS avatar, c.content AS content, c.addtime AS datetime FROM comment_relic c JOIN app_user a ON a.id = c.uid WHERE c.rid = 66 ORDER BY c.addtime
[http-nio-0.0.0.0-8081-exec-8] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:39:18.245468400], SQL: SELECT a.id AS id, a.Title AS name, hr.addtime AS time FROM history_relic hr JOIN app_user ap ON hr.uid = ap.id JOIN art a ON hr.rid = a.id WHERE ap.account = 'test' ORDER BY hr.addtime DESC
[http-nio-0.0.0.0-8081-exec-9] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:39:19.196753100], SQL: select cr.id as id, cr.rid as rid, a.Title as name, cr.content as content, cr.addtime as time from comment_relic cr JOIN app_user ap on ap.id = cr.uid JOIN art a on a.id = cr.rid WHERE ap.account = 'test' order by cr.addtime desc
[http-nio-0.0.0.0-8081-exec-10] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:39:21.102313100], SQL: SELECT a.id AS id, a.Title AS name, hr.addtime AS time FROM history_relic hr JOIN app_user ap ON hr.uid = ap.id JOIN art a ON hr.rid = a.id WHERE ap.account = 'test' ORDER BY hr.addtime DESC
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:39:33.013927], SQL: select id from app_user where account = 'test'
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:39:33.017195400], SQL: select * from art where id = 127
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:39:33.022116600], SQL: select count(*) from history_relic where uid = 1 and rid = 127
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:39:33.028517], SQL: select COUNT(*) from fav_relic where uid = ( select id from app_user where account = 'test' ) and rid = 127
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:39:33.029515], SQL: UPDATE history_relic SET addtime = NOW() WHERE uid = 1 AND rid = 127
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:39:33.035989800], SQL: SELECT ImgUrl FROM art WHERE id = 127
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:39:33.047365], SQL: SELECT a.id AS id, a.Title AS name, ( (CASE WHEN t.Artist IS NOT NULL AND a.Artist = t.Artist THEN 100 ELSE 0 END) + (CASE WHEN t.Materials IS NOT NULL AND a.Materials = t.Materials THEN 60 ELSE 0 END) + (CASE WHEN t.Classifications IS NOT NULL AND a.Classifications = t.Classifications THEN 30 ELSE 0 END) + (CASE WHEN t.Title IS NOT NULL AND a.Title LIKE CONCAT('%', t.Title, '%') THEN 50 ELSE 0 END) ) AS score FROM art a JOIN ( SELECT Artist, Classifications, Title, Materials FROM art WHERE id = 127 ) t WHERE a.id != 127 ORDER BY score DESC LIMIT 20;
[http-nio-0.0.0.0-8081-exec-3] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:39:40.141098400], SQL: SELECT a.id AS id, a.Title AS name, hr.addtime AS time FROM history_relic hr JOIN app_user ap ON hr.uid = ap.id JOIN art a ON hr.rid = a.id WHERE ap.account = 'test' ORDER BY hr.addtime DESC
[http-nio-0.0.0.0-8081-exec-5] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:40:54.010818200], SQL: select cr.id as id, cr.rid as rid, a.Title as name, cr.content as content, cr.addtime as time from comment_relic cr JOIN app_user ap on ap.id = cr.uid JOIN art a on a.id = cr.rid WHERE ap.account = 'test' order by cr.addtime desc
[http-nio-0.0.0.0-8081-exec-7] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:40:55.421835800], SQL: SELECT a.id AS id, a.Title AS name, hr.addtime AS time FROM history_relic hr JOIN app_user ap ON hr.uid = ap.id JOIN art a ON hr.rid = a.id WHERE ap.account = 'test' AND hr.addtime <= '2025-05-14' ORDER BY hr.addtime DESC
[http-nio-0.0.0.0-8081-exec-8] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:40:55.994581100], SQL: select cr.id as id, cr.rid as rid, a.Title as name, cr.content as content, cr.addtime as time from comment_relic cr JOIN app_user ap on ap.id = cr.uid JOIN art a on a.id = cr.rid WHERE ap.account = 'test' order by cr.addtime desc
[http-nio-0.0.0.0-8081-exec-9] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:40:56.916205600], SQL: SELECT a.id AS id, a.Title AS name, fr.addtime AS time FROM fav_relic fr JOIN app_user ap ON fr.uid = ap.id JOIN art a ON fr.rid = a.id WHERE ap.account = 'test' ORDER BY fr.addtime DESC
[http-nio-0.0.0.0-8081-exec-10] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:40:57.471793700], SQL: select cr.id as id, cr.rid as rid, a.Title as name, cr.content as content, cr.addtime as time from comment_relic cr JOIN app_user ap on ap.id = cr.uid JOIN art a on a.id = cr.rid WHERE ap.account = 'test' order by cr.addtime desc
[http-nio-0.0.0.0-8081-exec-2] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:40:58.081243], SQL: SELECT a.id AS id, a.Title AS name, hr.addtime AS time FROM history_relic hr JOIN app_user ap ON hr.uid = ap.id JOIN art a ON hr.rid = a.id WHERE ap.account = 'test' AND hr.addtime <= '2025-05-14' ORDER BY hr.addtime DESC
[http-nio-0.0.0.0-8081-exec-1] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:40:58.608229100], SQL: select cr.id as id, cr.rid as rid, a.Title as name, cr.content as content, cr.addtime as time from comment_relic cr JOIN app_user ap on ap.id = cr.uid JOIN art a on a.id = cr.rid WHERE ap.account = 'test' order by cr.addtime desc
[http-nio-0.0.0.0-8081-exec-3] INFO  DB_LOGGER - User: [test], Time: [2025-05-22T19:40:59.276804600], SQL: SELECT a.id AS id, a.Title AS name, fr.addtime AS time FROM fav_relic fr JOIN app_user ap ON fr.uid = ap.id JOIN art a ON fr.rid = a.id WHERE ap.account = 'test' ORDER BY fr.addtime DESC
